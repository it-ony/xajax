var XAJAX;!function(a,b){var c={};XAJAX=function(c,d){function e(a){var b=/\/$/;if(a.origin.replace(b,"")===c.replace(b,""))if("initialized"===a.data){if(k)return;
m&&clearTimeout(m),k=!0,l=!0,d&&d(null,h);for(var e=0;e<j.length;e++){var f=j[e];h.ajax(f.url,f.options,f.callback)
}j=[]}else if(k){var g=JSON.parse(a.data),i=g.messageId,n=p[i];n&&n.callback&&n.callback(g.error,g.data),delete p[i]
}}function f(){n=b.createElement("iframe"),n.onload=function(){k||(m=setTimeout(function(){k=!0,d(new Error("Initialisation failed"),h)
},i))},n.src=c,n.style.visibility="hidden",n.style.display="none";var a=b.body||b.getElementsByTagName("body")[0];
a.appendChild(n)}function g(a,b,d){o++;var e={type:a,data:b,messageId:o};p[o]={message:e,callback:d},n.contentWindow.postMessage(JSON.stringify(e),c)
}var h,i=1e3,j=[],k=!1,l=!1,m=null,n=null,o=0,p={};return a.addEventListener?addEventListener("message",e,!1):attachEvent("onmessage",e),f(),h={ajax:function(a,b,c){k?l?g("ajax",{url:a,options:b},c):c&&c(new Error("Cannot communicate with iFrame")):j.push({url:a,options:b,callback:c})
}}},XAJAX.create=function(a,b){var d;if(c.hasOwnProperty(a)){var e=c[a];e.initialized?b&&b(e.initializedError):e.callbacks.push(b),d=e.instance
}else d=new XAJAX(a,function(b){var d=c[a];d.initialized=!0,d.initializedError=b;for(var e=d.callbacks,f=0;f<e.length;f++)e[f]&&e[f](b)
}),c[a]={callbacks:[b],initialized:!1,initializedError:null,instance:d};return d}}(window,document);